---
- summary: |
    Проверка поиска товара по ключевому слову
  requirement: |
    Пользователь должен иметь возможность искать товары по ключевому слову
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Ключевое слово = "Mirror"
  steps:
    - Ввести ключевое слово в строку поиска
  expected-result: |
    Отображается список товаров, соответствующих введенному ключевому слову

- summary: |
    Проверка фильтрации товаров по цене
  requirement: |
    Пользователь должен иметь возможность фильтровать товар
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ и стоит категория "fragrances"
  test-data: |
    Цена: от 85 до 110
  steps:
    - В блоке фильтра по цене ввести в поле "От" значение 85
    - В поле "До" ввести значение 110
    - Дождаться обновления списка товаров без перезагрузки страницы
  expected-result: |
    Список товаров обновился. У всех отображаемых товаров цена больше или равна 85 и меньше или равна 110

- summary: |
    Проверка фильтрации товаров по производителю
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ и стоит категория "fragrances"
  test-data: |
    Производитель "Chanel"
  steps:
    - В боковом меню фильтров найти раздел "Производитель"
    - Установить флаг (чекбокс) напротив бренда "Chanel"
    - Дождаться обновления списка товаров без перезагрузки страницы
  expected-result: |
    В выдаче присутствуют только товары, в названии или характеристиках которых указан производитель "Сhanel". Другие бренды скрыты

- summary: |
    Проверка фильтрации товаров по наличию
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    В категории присутствуют товары в наличии
  test-data: |
    Фильтр "В наличии" = чекбокс активен
  steps:
    - Перейти в категорию товаров.
    - Найти блок фильтров и активировать чекбокс "В наличии"
    - Дождаться обновления списка товаров без перезагрузки страницы
  expected-result: |
    Из списка скрыты все товары с пометкой "Нет в наличии" или "Под заказ". В карточках товаров отображается статус "В наличии" или кнопка "В корзину"

- summary: |
    Проверка фильтрации товаров при выключенном фильтре "В наличии" с использованием пагинации
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    В категории есть отсутствующие товары
    Фильтр "В наличии" по умолчанию включен
  test-data: |
    Состояние чекбокса "В наличии" = выключено 
  steps:
    - Перейти в категорию товаров
    - Если чекбокс "В наличии" включен — выключить его. Если выключен — оставить без изменений
    - Изучить состав товаров на других страницах используя кнопку "Следующая"
  expected-result: |
    На первой и последующих страницах отображаются как доступные, так и отсутствующие товары. Переход по кнопке "Следующая" происходит без полной перезагрузки страницы (SPA), состояние фильтра "В наличии" остается выключенным
    
- summary: |
    Проверка добавления товара в корзину
  requirement: |
    Пользователь должен иметь возможность добавлять товары в корзину
  prerequisites: |
    Открыта карточка товара
  test-data: |
    Товар "Eyeshadow Palette with Mirror"
  steps:
    - Нажать кнопку "В корзину"
  expected-result: |
    Товар добавлен в корзину

- summary: |
    Проверка просмотра содержимого корзины
  requirement: |
    Пользователь должен иметь возможность просматривать содержимое корзины
  prerequisites: |
    В корзину добавлен хотя бы один товар
  test-data: |
    Товар "Eyeshadow Palette with Mirror" 1 шт
  steps:
    - Открыть страницу корзины
  expected-result: |
    Отображается список добавленных товаров с ценой и количеством

- summary: |
    Проверка переключения языка интерфейса
  requirement: |
    Пользователь должен иметь возможность переключить язык интерфейса
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Язык = Russian
  steps:
    - Нажать на переключатель языка
    - Выбрать русский язык
  expected-result: |
    Интерфейс сайта переключился и отображается на русском языке

- summary: |
    Проверка локализации сайта на русский язык
  requirement: |
    Сайт должен иметь локализацию на русский язык
  prerequisites: |
    Открыта главная страница сайта https://products-store.hexlet.app/
    Язык "English" выбран по умолчанию
  test-data: |
    Язык = Russian
  steps:
    - Переключить язык интерфейса на русский
    - Открыть любую карточку товара
    - Проверить названия кнопок, заголовки фильтров и описание товара
  expected-result: |
    Все элементы интерфейса и контент отображаются на русском языке

- summary: |
    Проверка локализации сайта на английский язык
  requirement: |
    Сайт должен иметь локализацию на английский язык
  prerequisites: |
    Открыта главная страница сайта https://products-store.hexlet.app/
    Язык "English" выбран по умолчанию
  test-data: |
    Язык = English 
  steps:
    - Перейти в любую карточку товара
    - Проверить названия кнопок, заголовки фильтров и описание товара
  expected-result: |
    Все элементы интерфейса и контента отображаются на английском языке

- summary: |
    Проверка скорости загрузки главной страницы сайта
  requirement: |
    Сайт должен быть оптимизирован для скорости работы
  prerequisites: |
    Открыт браузер
  test-data: |
    Браузер = Chrome (последняя версия)
  steps:
    - Открыть главную страницу сайта
  expected-result: |
    Главная страница загружается не более чем за 3 секунды

- summary: |
    Проверка удобства навигации по сайту
  requirement: |
    Сайт должен быть разработан с учетом удобства использования
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    —
  steps:
    - Открыть карточку товара
    - Добавить товар в корзину
  expected-result: |
    Все действия выполняются интуитивно понятно, без ошибок и лишних шагов

- summary: |
    Проверка использования защищенного HTTPS-соединения
  requirement: |
    Сайт должен быть безопасным и защищать данные пользователя
  prerequisites: |
    Открыт браузер
  test-data: |
    https://products-store.hexlet.app/
  steps:
    - Открыть сайт по HTTP
    - Проверить автоматический редирект на HTTPS
  expected-result: |
    Сайт автоматически открывается по HTTPS, незащищенное соединение недоступно

- summary: |
    Проверка совместимости сайта с последними версиями браузеров
  requirement: |
    Сайт должен корректно работать в последних версиях браузеров
  prerequisites: |
    Открыт браузер
  test-data: |
    Браузеры = Chrome, Firefox, Edge, Safari (последние версии)
  steps:
    - Открыть сайт в каждом из указанных браузеров
    - Проверить отображение главной страницы и каталога
  expected-result: |
    Сайт корректно отображается и функционирует во всех поддерживаемых браузерах

- summary: |
    Проверка работы сайта при высокой нагрузке
  requirement: |
    Сайт должен обрабатывать большое количество трафика
  prerequisites: |
    Тестовая среда
    Инструмент нагрузочного тестирования
  test-data: |
    Количество одновременных пользователей = 100
  steps:
    - Запустить нагрузочное тестирование
    - Имитировать одновременные действия пользователей
  expected-result: |
    Сайт остается доступным, критических ошибок и падений не возникает

- summary: |
    Проверка адаптивности сайта на различных устройствах
  requirement: |
    Сайт должен быть доступен на различных устройствах
  prerequisites: |
    Открыт браузер
  test-data: |
    Устройства = смартфон, планшет, ноутбук
  steps:
    - Открыть сайт на каждом устройстве
    - Проверить корректность отображения интерфейса
  expected-result: |
    Интерфейс сайта корректно адаптируется под размер экрана устройства

- summary: |
    Проверка доступности сайта без использования VPN
  requirement: |
    Сайт должен быть доступен для пользователей без использования VPN
  prerequisites: |
    VPN отключен
    Есть прямое подключение к сети Интернет
  test-data: |
    —
  steps:
    - Открыть сайт по прямой ссылке
  expected-result: |
    Сайт успешно открывается и доступен без использования VPN

- summary: |
    Проверка отображения детальной информации о товаре в каталоге и на странице товара
  requirement: |
    Сайт должен отображать список товаров и детальную страницу товара с информацией: название, рейтинг, цена со скидкой и без
  prerequisites: |
    Открыта главная страница сайта https://products-store.hexlet.app/
    Открыта карточка товара "Powder Canister"
  test-data: |
    Название = "Powder Canister"
    Рейтинг = 4.64
    Цена без скидки = 14.99 $
    Цена со скидкой = 13.51 $
  steps:
    - Найти карточку товара "Powder Canister" в каталоге (списке товаров)
    - Кликнуть на название или изображение товара для перехода на детальную страницу
    - Дождаться обновления контента (без полной перезагрузки страницы браузера)
    - Сверить Название, Рейтинг и обе цены на открывшейся странице товара
  expected-result: |
    В каталоге и на странице товара данные отображаются корректно и совпадают
    Старая цена (14.99 $) отображается зачеркнутой
    Новая цена (13.51 $) визуально выделена как основная
    Рейтинг (4.64) отображается визуально (звезды) и текстом

- summary: |
    Проверка функциональности постраничного вывода (пагинации) в каталоге товаров
  requirement: |
    Сайт должен иметь постраничный вывод товаров для управления объемом данных на экране. 
  prerequisites: |
    Открыта главная страница сайта https://products-store.hexlet.app/
    Открыта первая страница каталога товаров
  test-data: |
    Ожидаемое кол-во страниц = 7
  steps:
    - Прокрутить страницу вниз до блока пагинации (если нету сверху)
    - Проверить состояние кнопки "Предыдущая" на первой странице
    - Нажать на кнопку страницы "Следующая" (Next) в блоке пагинации
    - Проверить обновление списка товаров
    - Еще раз нажать кнопку "Следующая" (Next), чтобы дойти до конца списка (стр. 7)
    - Проверить состояние кнопки "Следующая" на последней странице
    - Нажать на кнопку страницы "Предыдущая" (Previous), чтобы вернуться в начало
    - Еще раз проверить обновление списка товаров
  expected-result: |
    На первой странице кнопка "Предыдущая" заблокирована или скрыта
    При нажатии "Следующая" загружается новая порция данных без перезагрузки страницы
    На последней странице кнопка "Следующая" заблокирована или скрыта
    Список товаров всегда соответствует текущему шагу навигации

- summary: |
    Проверка удаления товара из корзины
  requirement: |
    Пользователь должен иметь возможность удалять товар из корзины.
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    В корзину добавлен как минимум один товар 
    Пользователь находится на странице корзины
  test-data: |
    Товар = "Powder Canister"
    Количество товаров в корзине до удаления = 1
  steps:
    - Убедиться, что товар "Powder Canister" присутствует в списке корзины
    - Нажать на кнопку удаления товара 
    - Проверить обновление интерфейса и итоговой суммы
  expected-result: |
    Товар "Powder Canister" исчез из списка без полной перезагрузки страницы
    Итоговая сумма корзины пересчиталась автоматически (стала равной 0, если товар был один)
    Индикатор количества товаров на иконке корзины в шапке сайта обновился

- summary: |
    Проверка добавления нескольких единиц одного и того же товара в корзину
  requirement: |
    При повторном добавлении идентичного товара в корзину должно увеличиваться его количество в существующей позиции, а не создаваться новая строка
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ корзина пуста
    Пользователь находится в каталоге или на странице конкретного товара
  test-data: |
    Товар = "Механическая клавиатура"
    Цена за единицу = 5000 ₽
    Количество добавлений = 3
  steps:
    - Найти товар "Eyeshadow Palette with Mirror"
    - Нажать кнопку "Добавить в корзину"
    - Нажать кнопку "Добавить в корзину" еще 33 раза 
    - Перейти в корзину 
  expected-result: |
    В списке товаров в корзине отображается только одна строка с товаром "Eyeshadow Palette with Mirror"
    Каждая позиция содержит актуальную информацию (остаток, количество, скидка, итоговая сумма)
    Итоговая сумма для данной позиции пересчитана корректно
    Итоговая сумма корзины рассчитана корректно
    Все изменения отобразились мгновенно без перезагрузки страницы

- summary: |
    Проверка добавления нескольких разных товаров в корзину
  requirement: |
    Пользователь должен иметь возможность добавить несколько различных наименований товаров в корзину, при этом каждый товар должен отображаться отдельной строкой
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ корзина пуста
    В каталоге доступны как минимум два разных товара
  test-data: |
    Товар 1 = "Essence Mascara Lash Princess"
    Товар 2 = "Eyeshadow Palette with Mirror" 
  steps:
    - Перейти в каталог товаров
    - Нажать кнопку "Добавить в корзину" на карточке товара "Essence Mascara Lash Princess"
    - Нажать кнопку "Добавить в корзину" на карточке товара "Eyeshadow Palette with Mirror"
    - Перейти на страницу корзины 
  expected-result: |
    В корзине отображаются две отдельные строки: одна для "Essence Mascara Lash Princess", другая для "Eyeshadow Palette with Mirror"
    Каждая позиция содержит актуальную информацию (остаток, количество, скидка, итоговая сумма)
    Итоговая сумма для каждой позиции пересчитана корректно
    Итоговая сумма корзины рассчитана корректно
    Все изменения отобразились мгновенно без перезагрузки страницы

- summary: |
    Проверка перехода в категорию через хэштег на странице товара
  requirement: |
    На странице товара должны отображаться хэштеги (теги категории), при клике на хэштег пользователь должен попадать в каталог товаров соответствующей категории
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ 
    В базе данных есть товар с привязанным хэштегом (например, #beauty)
    Хэштег #beauty привязан к категории "beauty"
  test-data: |
    Товар = "Eyeshadow Palette with Mirror"
    Хэштег = "#beauty"
    Целевая категория = "beauty"
  steps:
    - Перейти на страницу товара "Eyeshadow Palette with Mirror"
    - Найти в блоке характеристик или описания кликабельный хэштег "#beauty"
    - Нажать на хэштег "#beauty"
    - Дождаться обновления контента страницы
  expected-result: |
    Произошел переход в каталог без полной перезагрузки вкладки браузера
    Заголовок страницы или фильтр активной категории изменился на "beauty"
    В списке товаров отображаются только те позиции, которые соответствуют категории или тегу #beauty
    Кнопка "Назад" в браузере возвращает пользователя на страницу товара "Eyeshadow Palette with Mirror"

- summary: |
    Проверка полной очистки корзины
  requirement: |
    Пользователь должен иметь возможность удалить все товары из корзины (через кнопку "Очистить корзину")
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ 
    В корзину добавлено несколько товаров (минимум 2 разных позиции)
    Пользователь находится на странице корзины
  test-data: |
    Товары в корзине: "Essence Mascara Lash Princess", "Eyeshadow Palette with Mirror"
  steps:
    - Проверить наличие товаров в списке корзины и итоговую сумму
    - Нажать кнопку "Очистить корзину"
    - Подтвердить действие в модальном окне (если оно появилось)
    - Дождаться обновления интерфейса
  expected-result: |
    Список товаров полностью очищен без перезагрузки страницы
    Счетчик товаров на иконке корзины в шапке сайта изменился на "0" или исчез
    Итоговая сумма заказа обнулена или скрыта

- summary: |
    Проверка оформления заказа и перехода на страницу оплаты
  requirement: |
    Пользователь должен иметь возможность оформить заказ с переходом на страницу оплаты
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ 
    В корзину добавлен как минимум один товар
    Платежный шлюз находится в тестовом режиме
  test-data: |
    Товар = "Eyeshadow Palette with Mirror"
    Цена = 16.35$
    Данные доставки: "г. Москва, ул. Тестовая, д. 1"
    Способ оплаты: "Банковская карта"
  steps:
    - Нажать кнопку "Оформить заказ" в корзине
    - Заполнить обязательные поля
    - Выбрать способ оплаты "Картой онлайн"
    - Нажать кнопку "Оплатить" или "Подтвердить заказ"
    - Дождаться загрузки страницы оплаты
  expected-result: |
    Произошел успешный переход на страницу платежной системы или отобразилась форма ввода данных карты
    URL изменился на адрес платежного шлюза или страницу подтверждения (без ошибок 404/500)
    Сумма к оплате на платежной странице в точности совпадает с итоговой суммой из корзины (16.35$)
    В системе создан заказ в статусе "Ожидает оплаты"
    Переход выполнен плавно, данные пользователя не "потерялись" при перенаправлении

- summary: |
    Проверка добавления товара в корзину без перехода из каталога
  requirement: |
    Пользователь должен иметь возможность добавить товар в корзину и продолжить выбирать товары в каталоге
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ на странице каталога
    Пользователь находится в середине списка товаров (проскроллил вниз)
  test-data: |
    Товар 1 = "Gucci Bloom Eau de"
    Товар 2 = "Apple"
  steps:
    - Найти в каталоге "Gucci Bloom Eau de" и нажать кнопку "Добавить в корзину"
    - Наблюдать за реакцией интерфейса и положением страницы
    - Проверить состояние счетчика корзины в шапке сайта
    - Проскроллить дальше и нажать "Добавить в корзину" на товаре "Apple"
  expected-result: |
    После нажатия кнопки страница не перезагружается и не переходит в корзину
    Фокус пользователя и позиция скролла сохраняются на текущем месте в каталоге
    Счетчик корзины обновляется динамически (изменяется с 0 на 1, затем на 2)
    Пользователь может беспрепятственно взаимодействовать со следующим товаром

- summary: |
    Проверка возможности возврата в каталог из корзины
  requirement: |
    Пользователь должен иметь возможность продолжить выбор товаров, вернувшись из корзины в каталог
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ на странице каталога
    Пользователь находится на странице корзины
  test-data: |
    Текст кнопки возврата = "Продолжить покупки"
  steps:
    - На странице корзины найти кнопку "Продолжить покупки" 
    - Нажать на эту кнопку
    - Проверить URL-адрес и отображаемый контент
    - Убедиться, что навигация произошла в рамках SPA
  expected-result: |
    Произошел переход из корзины обратно в каталог без полной перезагрузки страницы
    Пользователь вернулся на ту же страницу каталога, с которой ушел
    Пользователь может продолжить навигацию и добавление других товаров

- summary: |
    Проверка работы приложения в режиме SPA (без перезагрузки страниц)
  requirement: |
    Приложение должно работать без перезагрузки страниц
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    Инструменты разработчика (DevTools) открыты на вкладке "Network"
  test-data: |
    Маршруты для проверки: "/cart"
  steps:
    - Обратить внимание на иконку "Обновить/Стоп" в браузере (рядом с адресной строкой)
    - Нажать на название товара для перехода к детальной информации
    - Добавить товар в корзину и перейти в неё
    - Нажать кнопку "Назад" в интерфейсе браузера или кнопку в интерфейсе сайта "Продолжить покупки"
  expected-result: |
    Иконка обновления страницы в браузере (круг стрелка) не превращается в "X" (крестик) во время переходов
    Отсутствует характерное "мигание" или "белый экран" между сменой контента
    В DevTools на вкладке Network не загружается заново файл `index.html` при переходах

- summary: |
    Проверка адаптивности и удобства интерфейса на мобильных устройствах
  requirement: |
    Интерфейс должен быть удобным и корректно отображаться на мобильных устройствах
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/ на мобильном устройстве или в эмуляторе браузера (например, Chrome DevTools в режиме Device Mode)
    Тестирование проводится на разных разрешениях (iPhone SE — 375x667, Pixel 7 — 412x915)
  test-data: |
    Устройство: iPhone SE, Pixel 7
    Браузер: Safari / Chrome Mobile
  steps:
    - Открыть главную страницу и каталог товаров
    - Проверить, что нет горизонтальной полосы прокрутки (страница не "гуляет" влево-вправо)
    - Проверить отображение карточек товаров (обычно в мобильной версии они перестраиваются в 1 или 2 колонки)
    - Нажать на кнопку "Добавить в корзину" (проверка размера области нажатия)
    - Перейти в корзину
    - Проверить, что все текстовые элементы читабельны и не накладываются друг на друга и не выходят за границы экрана
  expected-result: |
    Интерфейс полностью адаптирован под ширину экрана: элементы не выходят за границы и не накладываются друг на друга
    Все кликабельные элементы имеют достаточный размер для нажатия пальцем 
    Отсутствуют перекрытия текста и слишком мелкие шрифты 
    Корзина открывается плавно, элементы управления (удаление, оформление) легко доступны
    Клавиатура при вводе данных в корзине не перекрывает активное поле ввода

- summary: |
    Проверка хранения данных корзины в рамках текущей сессии
  requirement: |
    Данные корзины должны храниться в рамках текущей сессии браузера
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    Корзина изначально пуста
  test-data: |
    Товар = "Eyeshadow Palette with Mirror"
    Количество = 1
  steps:
    - Добавить товар "Eyeshadow Palette with Mirror" в корзину
    - Убедиться, что счетчик корзины в шапке изменился на "1"
    - Выполнить принудительную перезагрузку страницы (клавиша F5 или кнопка "Обновить")
    - Перейти на страницу корзины 
    - Закрыть текущую вкладку и открыть сайт заново в новой вкладке (для проверки типа сессии)
  expected-result: |
    После обновления страницы (F5) товар остается в корзине, счетчик не сбрасывается
    При переходе по разным разделам сайта данные корзины сохраняются
    В инструментах разработчика (DevTools -> Application -> Session Storage) запись о товарах корзины присутствует и корректно обновляется
    После закрытия и повторного открытия вкладки корзина может стать пустой (согласно специфике сессии браузера)

- summary: |
    Проверка границ области клика карточки товара в каталоге
  requirement: |
    Область перехода в карточку товара должна строго соответствовать визуальным границам элемента. Клики в пустом пространстве между карточками не должны приводить к переходу
  prerequisites: |
    Открыта страница каталога с сеткой товаров
    В браузере включен курсор мыши (для Desktop)
  test-data: |
    Сетка товаров: 3 товара в ряд 
  steps:
    - Навести курсор на центр карточки товара и убедиться, что курсор изменился на указательный
    - Медленно вести курсор от центра карточки к её правому краю, пока он не выйдет в пустое пространство между этой и соседней карточкой
    - Совершить клик в "межстраничном" пространстве (белое поле между карточками)
    - Повторить проверку для нижней границы карточки (клик между рядами)
  expected-result: |
    Переход в карточку происходит только при клике внутри видимых границ
    При нахождении курсора в пустом пространстве между карточками он принимает вид стандартной стрелки а не указателя
    Клик в пустом пространстве не вызывает навигацию и не меняет URL
    Области 'margin' и 'gap' игнорируют события клика

- summary: |
    Проверка закрытия модального окна оформления заказа
  requirement: |
    Модальное окно оформления заказа должно закрываться при нажатии на кнопку отмены, крестик или клавишу Esc, возвращая пользователя к корзине
  prerequisites: |
    Открыт сайт https://products-store.hexlet.app/
    В корзину добавлен товар (например, "Essence Mascara Lash Princess")
    Пользователь находится на странице корзины
  test-data: |
    Элемент управления = кнопка "Close" (или иконка "X")
    Клавиша = "Escape"
  steps:
    - Нажать кнопку "Checkout" для открытия модального окна оформления заказа
    - Проверить, что модальное окно появилось на экране 
    - Нажать на кнопку закрытия ("X" в верхнем углу или "Close" внизу окна)
    - Снова открыть модальное окно и нажать на область вне самого окна 
    - Снова открыть модальное окно и нажать клавишу "Esc" на клавиатуре
  expected-result: |
    Модальное окно успешно скрывается во всех случаях
    Пользователь остается на странице корзины, состояние корзины (список товаров) не изменяется
    В DOM-дереве у модального окна удаляется класс 'active'/'show' или элемент полностью удаляется из DOM
